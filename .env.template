# =================================================================
# GeoNode Keycloak Integration Template
# =================================================================
# Copia questo file in .env e compila le variabili necessarie

# =================================================================
# KEYCLOAK CONFIGURATION
# =================================================================
# URL del server Keycloak (senza trailing slash)
KEYCLOAK_SERVER_URL=https://your-keycloak-server.com

# Nome del realm Keycloak
KEYCLOAK_REALM=your-realm

# Client ID registrato in Keycloak
KEYCLOAK_CLIENT_ID=your-client-id

# Client Secret (da generare in Keycloak)
KEYCLOAK_CLIENT_SECRET=your-client-secret

# Audience per la validazione del token
KEYCLOAK_AUDIENCE=account

# Verifica SSL (True in produzione, False solo per test)
KEYCLOAK_VERIFY_SSL=True

# =================================================================
# OIDC PROVIDER CONFIGURATION
# =================================================================
# Abilita/disabilita il provider OIDC
SOCIALACCOUNT_OIDC_PROVIDER_ENABLED=True

# Nome del provider OIDC (non modificare)
SOCIALACCOUNT_OIDC_PROVIDER=geonode_openid_connect

# Nome del provider sociale (non modificare)
SOCIALACCOUNT_PROVIDER=keycloak

# Creazione automatica utenti al primo login
SOCIALACCOUNT_AUTO_SIGNUP=True

# Disabilita il signup locale se usi solo Keycloak
SOCIALACCOUNT_WITH_GEONODE_LOCAL_SINGUP=False

# =================================================================
# OIDC ENDPOINTS (generati automaticamente, non modificare)
# =================================================================
OIDC_AUTHORIZATION_URL=${KEYCLOAK_SERVER_URL}/auth/realms/${KEYCLOAK_REALM}/protocol/openid-connect/auth
OIDC_ACCESS_TOKEN_URL=${KEYCLOAK_SERVER_URL}/auth/realms/${KEYCLOAK_REALM}/protocol/openid-connect/token
OIDC_USER_INFO_URL=${KEYCLOAK_SERVER_URL}/auth/realms/${KEYCLOAK_REALM}/protocol/openid-connect/userinfo

# =================================================================
# ALTRI SETTINGS GEONODE (mantieni quelli esistenti)
# =================================================================
DEBUG=False